<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>My experiment</title>
    <script src="../../jspsych/jspsych.js"></script>
    <script src="../../jspsych/plugins/jspsych-html-button-response.js"></script>
    <link href="../../jspsych/css/jspsych.css" rel="stylesheet" type="text/css">
  </head>
  <body>

  </body>
  <script>

    var my_timeline = [];

    var options = ["yes", "no"];
    var options_shuffled = jsPsych.randomization.shuffle(options);

    var gettier_trial1 = {
      type: 'html-button-response',
      stimulus: '<p>John places a watch blah blah blah</p> <p><i>Does John know there\'s a watch on the table?</i></p>',
      choices: options_shuffled,
    };

    var gettier_trial2 = {
      type: 'html-button-response',
      stimulus: '<p>The Faluki are a large but tight knit community living on a remote island. One day, a radioactive meteor strikes the island and has one significant effect on the...</p>'+
      '<p><i>Does Kal know it\'s 71 degrees?</i></p>',
      choices: options_shuffled
    };

    // Copy and paste the above trial (renaming it, and changing the stimulus) so there are two trials
    // Randomize the order of the two gettier trials and add them to the timeline
    // You can either do this fairly manually with indexing

    var trials = [gettier_trial1, gettier_trial2]
    var trials_shuffled = jsPsych.randomization.shuffle(trials)
    console.log(trials_shuffled)
    my_timeline.push(trials_shuffled[0])
    my_timeline.push(trials_shuffled[1])

    // Or you can automate it a little bit with a forEach
    // You pick how much of a challenge you want (manually = easier)
    jsPsych.randomization.shuffle([gettier_trial1, gettier_trial2]).forEach(function(element){
      my_timeline.push(element)
    })


    jsPsych.init({
      timeline: my_timeline
    })

  </script>
</html>
